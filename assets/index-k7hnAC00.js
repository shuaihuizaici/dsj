import{u as $,a as q,r as _,w as F,o as g,c as v,b as a,d as e,e as d,f as t,g as x,h as N,E,i as z,j as b,l as w,p as L,k as T}from"./index-ZSpSe3_Z.js";import{E as j,a as M}from"./el-col-CrRUXh7J.js";import{E as A}from"./el-checkbox-V_ZPCwNG.js";import{E as D,a as G}from"./el-form-item-KRoToaYe.js";import{E as H}from"./el-link-Bl2GYp6K.js";import{_ as J,E as K}from"./_plugin-vue_export-helper-D6KMZ_4T.js";import{E as O}from"./el-input-D164SVRw.js";import"./el-message-DGGTfqwD.js";import"./isEqual-BTGVA06g.js";const S=i=>(L("data-v-75a217cc"),i=i(),T(),i),P=S(()=>x("h1",null,"注册",-1)),Q=S(()=>x("h1",null,"登录",-1)),W={class:"flex"},X={__name:"index",setup(i){const C=$(),I=q(),u=_(!0),l=_({username:"",password:"",repassword:""}),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"},{Validator:(f,o,n)=>{o!==l.value.password?n(new Error("两次输入的密码不一致")):n()},trigger:"blur"}]};let m=_();const U=async()=>{await m.value.validate(),await N(l.value),E.success("成功注册"),u.value=!1},h=async()=>{await m.value.validate();const f=await z(l.value);I.setToken(f.data.token),E.success("成功登录"),C.push("/")};return F(u,()=>{l.value={username:"",password:"",repassword:""}}),(f,o)=>{const n=M,s=D,p=O,k=K,c=H,y=G,B=A,R=j;return g(),v(R,{class:"login-page"},{default:a(()=>[e(n,{span:12,class:"bg"}),e(n,{span:6,offset:3,class:"form"},{default:a(()=>[u.value?(g(),v(y,{key:0,ref_key:"form",ref:m,size:"large",autocomplete:"off",model:l.value,rules:V},{default:a(()=>[e(s,null,{default:a(()=>[P]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:l.value.username,"onUpdate:modelValue":o[0]||(o[0]=r=>l.value.username=r),"prefix-icon":d(b),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{"prefix-icon":d(w),type:"password",placeholder:"请输入密码",modelValue:l.value.password,"onUpdate:modelValue":o[1]||(o[1]=r=>l.value.password=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(s,{prop:"repassword"},{default:a(()=>[e(p,{"prefix-icon":d(w),type:"password",modelValue:l.value.repassword,"onUpdate:modelValue":o[2]||(o[2]=r=>l.value.repassword=r),placeholder:"请输入再次密码"},null,8,["prefix-icon","modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(k,{onClick:U,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t(" 注册 ")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:o[3]||(o[3]=r=>u.value=!1)},{default:a(()=>[t(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(g(),v(y,{key:1,model:l.value,rules:V,ref_key:"form",ref:m,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[Q]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:l.value.username,"onUpdate:modelValue":o[4]||(o[4]=r=>l.value.username=r),"prefix-icon":d(b),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{name:"password",modelValue:l.value.password,"onUpdate:modelValue":o[5]||(o[5]=r=>l.value.password=r),"prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{class:"flex"},{default:a(()=>[x("div",W,[e(B,null,{default:a(()=>[t("记住我")]),_:1}),e(c,{type:"primary",underline:!1},{default:a(()=>[t("忘记密码？")]),_:1})])]),_:1}),e(s,null,{default:a(()=>[e(k,{onClick:h,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t("登录")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:o[6]||(o[6]=r=>u.value=!0)},{default:a(()=>[t(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ue=J(X,[["__scopeId","data-v-75a217cc"]]);export{ue as default};
