import{_ as k}from"./PageContainer-DYaXRQtc.js";import{r as i,a as x,o as r,c as _,b as a,d as s,e as o,z as E,f as p,g as d,bN as v,E as w,C as b,aV as B}from"./index-ZSpSe3_Z.js";import{E as U}from"./_plugin-vue_export-helper-D6KMZ_4T.js";import{E as C}from"./el-progress-Dgh2sVq-.js";import"./el-message-DGGTfqwD.js";import"./isEqual-BTGVA06g.js";const N=["src"],V=d("br",null,null,-1),z=d("br",null,null,-1),L={__name:"touXiang",setup(S){let l=i(),t=i(),n=x();t.value=n.user.user_pic;function f(c){let e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{t.value=e.result}}async function m(){await v(t.value),n.getUser(),w.success("更换成功")}return(c,e)=>{const g=b,h=C,u=U,y=k;return r(),_(y,{title:"更换头像"},{default:a(()=>[s(h,{ref_key:"rrr",ref:l,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":f},{default:a(()=>[o(t)?(r(),E("img",{key:0,src:o(t),class:"avatar",style:{width:"180px",height:"180px"}},null,8,N)):(r(),_(g,{key:1,class:"avatar-uploader-icon",style:{width:"180px",height:"180px",border:"1px solid gray"}},{default:a(()=>[s(o(B))]),_:1}))]),_:1},512),V,z,s(u,{type:"primary",size:"large",onClick:e[0]||(e[0]=R=>o(l).$el.querySelector("input").click())},{default:a(()=>[p("选择图片")]),_:1}),s(u,{type:"success",size:"large",onClick:m},{default:a(()=>[p("上传头像")]),_:1})]),_:1})}}};export{L as default};
